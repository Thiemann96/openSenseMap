<div class="container">
  <div class="col-lg-6 col-md-6 col-lg-offset-3 col-md-offset-3">
    <div style="margin-top: 15px;">
      <div uib-alert ng-repeat="alert in accountNotificationCreateController.alerts" ng-class="'alert-' + (alert.type || 'warning')" close="accountNotificationCreateController.closeAlert($index)">
        <div ng-bind-html="alert.msg"></div>
      </div>
    </div>
    <h2>{{'CREATE_NOTIFICATION_RULE' | translate}}</h2>

    <form class="form" ng-submit="accountNotificationCreateController.createRule()">

      <div class="form-group">
        <label for="">{{'NAME'|translate}}</label>
        <input type="text" class="form-control" ng-model="accountNotificationCreateController.notificationRule.name" maxlength="40" required>
        <p class="info-text">{{'NAME_INFO' | translate}}</p>
      </div>
      
        
      <div class="form-group">
        <label for="">{{'BOX'|translate}}</label>
        <select type="text" class="form-control" id="box-select" ng-change="accountNotificationCreateController.selectBox()" ng-model="accountNotificationCreateController.notificationRule.box"  required> 
          <option ng-repeat="box in accountNotificationCreateController.boxes" ng-value="box._id">{{box.name}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="">{{'SENSOR'|translate}}</label>
        <select type="text" class="form-control" id="sensor" ng-model="accountNotificationCreateController.notificationRule.sensors"  required>
          <option ng-repeat="sensor in accountNotificationCreateController.selectedBox.sensorsArray" ng-value="sensor._id">{{sensor.title}}</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="">{{'ACTIVATIONTRESHOLD'|translate}}</label>
        <input type="number" class="form-control" ng-model="accountNotificationCreateController.notificationRule.activationThreshold" required>
      </div>
      
      <div class="form-group">
        <label for="">{{'ACTIVATIONOPERATOR'|translate}}</label>
        <select type="text" class="form-control" ng-model="accountNotificationCreateController.notificationRule.activationOperator" required>
          <option value="under">{{'UNDER' | translate}}</option>
          <option value="over">{{'OVER' | translate}}</option>
          <option value="equal">{{'EQUAL' | translate}}</option>
        </select>
        <p class="info-text">{{'ACTIVATIONOPERATOR_INFO' | translate}}</p>
      </div>



      <div class="form-group">
        <label for="">{{'ACTIVE'| translate}}</label>
        <input type="checkbox" ng-model="accountNotificationCreateController.notificationRule.active">
      </div>
      <hr>
      <button type="submit" class="btn btn-default pull-right">{{'NOTIFICATION_RULE_SUBMIT'|translate}}</button>
    </form>


    <button ng-show="accountNotificationCreateController.notificationRule._id" ng-click="accountNotificationCreateController.deleteRule(accountNotificationCreateController.notificationRule._id, accountNotificationCreateController.notificationRule.box)" class="btn btn-danger col-md-6"><i class="fa fa-times"></i>&nbsp; {{'EDIT_DELETE_NOTIFICATIONRULE'|translate}}</button>
  </div>
</div>